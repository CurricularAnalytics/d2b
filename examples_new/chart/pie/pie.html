<!DOCTYPE html>
<html>

<script src="../../../vendor/js/vendor.js"></script>
<script src="../../../build/js/d2b.js"></script>
<link rel="stylesheet" type="text/css" href="../../../build/css/d2b.css" />

<body>
	<div class = 'pie-chart'></div>

	<script>
		// $(document).ready(function(){

			var pie = d2b.chart.pie();

			pie.legend()
				// .clickable(false)
				// .dblclickable(false)
				// .allowEmptied(true)
				.orient('horizontal')
				// .maxTextLength(10)
				.size(16);

			pie.checkbox()
				// .size(16);

			// var color = d3.scale.category20b();

			pie
				// .color(d => color(d.label))
				.padding(10)
				.startAngle(-Math.PI / 2)
				.endAngle(Math.PI / 2)
				.radius((w, h) => Math.min(h, w / 2))
				.center((w, h, r) => {return {x: w / 2, y: h / 2 + r / 2};})
				// .at('center right')
				// .duration(2500)
				.data([
					{label: 'arc 1', value: 23},
					{label: 'arc 2', value: 31},
					{label: 'arc 3', value: 80},
					{label: 'arc 4', value: 8}
				])
				.size({height: 400})
				.donutRatio(0.5)
				.select('.pie-chart')
				.legendAt('bottom center')
				// .control('hideLegend', {state: true, visible: true})
				// .legendAt('top left')
				// .legendAt('center center')
				.update();

		setTimeout( function () {
			pie
				.data([
					{label: 'arc 1', value: 25},
					// {label: 'arc 2', value: 38},
					{label: 'arc 3', value: 40},
					{label: 'arc 5', value: 90},
					{label: 'arc 4', value: 61}
				])
				.update();
		}, 2000);

		window.onresize = pie.generate;
	</script>
</body>
</html>
