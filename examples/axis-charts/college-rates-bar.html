<!DOCTYPE html>
<html>
<script src="../../bower_components/jquery/dist/jquery.js"></script>
<script src="../../vendor/js/vendor.js"></script>
<script src="../../build/js/d3b.js"></script>
<link rel="stylesheet" type="text/css" href="../../build/css/ad.css" />
<script>
	$(document).ready(function(){

		var axisChart = new d3b.CHARTS.axisChart();

		axisChart
//no need to use select/width/height if imbeding chart into a chartLayout
			// .select('.axis-chart')
			// .width($(window).width())
			// .height($(window).height())

//value formatting
			.xFormat({nice:false,siPrefixed:false,separateThousands:false,units:{before:"", after:""},precision:0})
			.yFormat({nice:false,siPrefixed:false,separateThousands:false,units:{before:"", after:"%"},precision:0})
			
//set the x scale properties
			.x({
				orientation:'bottom', 						//default 'bottom', can be set to right or left if rotated, bottom or top if not
				invert:false, 								//default false
				hide: false, 									//default false
				type:'ordinal', 							//default 'quantitative,linear', can be set to 'ordinal', 'time', or any quantitative scale denoted by 'quantitative,type'
				// domain:['Anderson Schools of Management', 'College of Arts and Sciences']					//default [0, 1], set the domain for the chosen scale type
				tickData:{'College of Arts and Sciences':{url:'http://google.com'}}									//used if data needs to be supplied to ordinal ticks
			})

//set the y scale type to quantitative,linear (this is default) and the domain as [0,300]
			.y({
				orientation:'left', 					//default 'left', can be set to top or bottom if rotated, right or left if not
				invert:false, 								//default false
				hide: false, 									//default false
				type:'quantitative,linear', 	//default 'quantitative,linear', can be set to 'ordinal', 'time', or any quantitative scale denoted by 'quantitative,type'
				domain:[0, 100]								//default [0, 1], set the domain for the chosen scale type
			})

//set the controls for this chart, only hideLegend currenlty available for axis-charts
			.controls({'lockYAxis':{'enabled':true},'hideLegend':{'enabled':false,'visible':true},'stackBars':{'visible':true}}) // default {'hideLegend':{'enabled':false,'visible':false}}

//to rotate the chart
			// .rotate(true)								//default false
			// .x({orientation:'left'})
			// .y({orientation:'bottom'})

//to position the legend
			.legendOrientation('top') 			//default 'bottom'

//set the axis chart data
			.data({data:{
				labels:{
					x:'College',
					y:'Percentage'
				},
				types:[
					{
						type:'bar',
						graphs:[
							{
								"label":"4-Year Accepted Major Graduation Rate",
								"values":[{"x":"Anderson Schools of Management","y":18.65},{"x":"College of Arts and Sciences","y":16.95},{"x":"College of Education","y":13.61},{"x":"College of Fine Arts","y":17.39},{"x":"College of Nursing","y":18.03},{"x":"College of Pharmacy","y":31.91},{"x":"School of Arch. and Planning","y":8.06},{"x":"School of Engineering","y":11.37},{"x":"School of Medicine","y":2.67},{"x":"University College","y":4.33}]
							},
							{
								"label":"5-Year Accepted Major Graduation Rate",
								"values":[{"x":"Anderson Schools of Management","y":45.26},{"x":"College of Arts and Sciences","y":45.29},{"x":"College of Education","y":42.52},{"x":"College of Fine Arts","y":40.22},{"x":"College of Nursing","y":28.69},{"x":"College of Pharmacy","y":48.94},{"x":"School of Arch. and Planning","y":37.1},{"x":"School of Engineering","y":38.86},{"x":"School of Medicine","y":17.33},{"x":"University College","y":11.42}]
							},
							{
								"label":"6-Year Accepted Major Graduation Rate",
								"values":[{"x":"Anderson Schools of Management","y":52.91},{"x":"College of Arts and Sciences","y":54.63},{"x":"College of Education","y":52.38},{"x":"College of Fine Arts","y":51.09},{"x":"College of Nursing","y":31.97},{"x":"College of Pharmacy","y":48.94},{"x":"School of Arch. and Planning","y":56.45},{"x":"School of Engineering","y":48.82},{"x":"School of Medicine","y":25.33},{"x":"University College","y":14.57}]
							},
							{
								"label":"4-Year Intended Major Graduation Rate",
								"values":[{"x":"Anderson Schools of Management","y":7.6600},{"x":"College of Arts and Sciences","y":7.0900},{"x":"College of Education","y":2.5200},{"x":"College of Fine Arts","y":9.0900},{"x":"College of Nursing","y":7.3500},{"x":"College of Pharmacy","y":10.7100},{"x":"School of Arch. and Planning","y":3.2300},{"x":"School of Engineering","y":0.3900},{"x":"School of Medicine","y":0},{"x":"University College","y":0.1100}]
							},
							{
								"label":"5-Year Intended Major Graduation Rate",
								"values":[{"x":"Anderson Schools of Management","y":20.1600},{"x":"College of Arts and Sciences","y":16.7800},{"x":"College of Education","y":10.6900},{"x":"College of Fine Arts","y":16.0800},{"x":"College of Nursing","y":9.5600},{"x":"College of Pharmacy","y":14.2900},{"x":"School of Arch. and Planning","y":9.6800},{"x":"School of Engineering","y":1.9500},{"x":"School of Medicine","y":1.0200},{"x":"University College","y":0.2200}]
							},
							{
								"label":"6-Year Intended Major Graduation Rate",
								"values":[{"x":"Anderson Schools of Management","y":22.5800},{"x":"College of Arts and Sciences","y":19.2400},{"x":"College of Education","y":13.8400},{"x":"College of Fine Arts","y":19.5800},{"x":"College of Nursing","y":10.2900},{"x":"College of Pharmacy","y":14.2900},{"x":"School of Arch. and Planning","y":14.5200},{"x":"School of Engineering","y":3.8900},{"x":"School of Medicine","y":1.0200},{"x":"University College","y":0.2200}]
							}
						]
					}
				]
			}});

//define chart layout
			var chartLayout = new d3b.UTILS.CHARTPAGE.chartLayout();

//setup chart layout
			chartLayout
					.width($(window).width())			//set the chart width
					.height($(window).height())		//set the chart height
					.chart(axisChart)							//set the chart
					.select('.axis-chart');				//set the container

//set the chart layout data
			var chartLayoutData = {
				"data":
				{
					"chartLayout":{
						"title":"Student Success Rates By College"
					}
				}
			};
			chartLayout
				.data(chartLayoutData)

//update the chart layout
				.update();

		setTimeout(function(){
			axisChart.y({'orientation':'bottom'}).x({'orientation':'left'}).rotate(true).update()
		},2000)

		$(window).resize(function(){
//on window resize, reset chart layout dimensions and update
			chartLayout.height($(window).height()).width($(window).width()).update();
		});

	})
</script>

<body style='margin:0px;'>
	<div class = 'axis-chart'></div>
</body>
</html>
