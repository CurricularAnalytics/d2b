<!DOCTYPE html>
<html>

<script src="../../vendor/js/vendor.js"></script>
<script src="../../build/js/d2b.js"></script>
<link rel="stylesheet" type="text/css" href="../../build/css/d2b.css" />
<script>
	$(document).ready(function(){

		var pieChart = new d2b.CHARTS.pieChart();

		pieChart
			.select('.pie-chart')
			.height($(window).height()).width($(window).width())
			.donutRatio(0.7)
			.legendOrientation('right')
			// .contols({hideLegend:{enabled:true}})
			// .color(
			// 	d3.scale.ordinal()
			// 		.domain(["Freshmen", "Sophomores"])
			// 		.range(["#090","#900"])
			// )
			.xFormat({siPrefixed:false,separateThousands:true,units:{},precision:0})
			// .on('update',function(){d3.selectAll('text').style('display','none');})
		pieChart
			.data(
				{
					data:{
						values:[
							{key:'unique', label:'Freshmen',value:21031},
							{key:'unique', label:'Sophomores',value:16093},
							{key:'unique', label:'Juniors',value:9080},
							{key:'unique', label:'Seniors',value:6577},
							{key:'unique', label:'Graduate',value:5632}
						]
					}
				}
			)
			// .on('update', function(){console.log('updated!')})
			// .on('element-mouseout',function(type, d, i){console.log(type)})
			.update(function(){console.log('done!')});

		setTimeout(function(){
			pieChart
				.data(
					{
						data:{
							values:[
								{key:'Freshmen', label:'Freshmen',value:25031},
								{key:'Sophomores', label:'Sophomores',value:12093},
								{key:'Juniors', label:'Juniors',value:5080},
								{key:'Seniors', label:'Seniors',value:4577},
								{key:'Graduate', label:'Graduate',value:1632}
							]
						}
					}
				)
				.update();
		},2000);
		setTimeout(function(){
			pieChart
				.data(
					{
						data:{
							values:[
								{key:'Freshmen', label:'Freshmen',value:5031},
								{key:'Sophomores', label:'Sophomores',value:14093},
								{key:'Juniors', label:'Juniors',value:8080},
								{key:'Other Graduate', label:'Other Graduate',value:3031},
								{key:'Seniors', label:'Seniors',value:9577},
								{key:'Graduate', label:'Graduate',value:11632}
							]
						}
					}
				)
				.update();
		},4000);

		$(window).resize(function(){
			pieChart.height($(window).height()).width($(window).width()).update();
		});

	})
</script>

<body style='margin:0px;'>
<div class = 'pie-chart'></div>

</body>
</html>
