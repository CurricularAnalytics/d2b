<!DOCTYPE html>
<html>
<script src="https://d3js.org/d3.v4.0.0-alpha.29.min.js"></script>

<link rel="stylesheet" type="text/css" href="../../../build/d2b.css" />
<script src="../../../build/d2b.js"></script>

<body>
	<div class = 'pie-chart'></div>

	<script>
		// $(document).ready(function(){

			var pie = d2b.chartPie();

			// pie.legend()
				// .clickable(false)
				// .dblclickable(false)
				// .allowEmptied(true)
				// .orient('horizontal')
				// .maxTextLength(10)
				// .size(16);


			// var color = d3.scale.category20b();

			// d2b.defaultColor = d3.scale.category20b();

			pie
				// .color(d => color(d.label))
				.padding(10)
				// .startAngle(-Math.PI / 2)
				// .endAngle(Math.PI / 2)
				// .radius((w, h) => Math.min(h, w / 2))
				// .center((w, h, r) => {return {x: w / 2, y: h / 2 + r / 2};})
				// .at('center right')
				// .duration(2500)
				.size({height: 400})
				.donutRatio(0.5)
				// .legendAt('bottom center')
				// .legendAt('top left');

			var chart = d3.select('.pie-chart');

			chart
					.datum([
						{label: 'arc 1', value: 23},
						{label: 'arc 2', value: 31},
						{label: 'arc 3', value: 80},
						{label: 'arc 4', value: 8}
					])
				.transition()
					.call(pie);

		setTimeout( function () {
			chart
					.datum([
						{label: 'arc 1', value: 25},
						{label: 'arc 3', value: 40},
						{label: 'arc 5', value: 90},
						{label: 'arc 4', value: 61}
					])
				.transition()
					.call(pie);
		}, 2000);

		window.onresize = function () {chart.transition().call(pie)};
	</script>
</body>
</html>
